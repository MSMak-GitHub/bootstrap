<div class="bs-docs-section">
  <h1 id="affix" class="page-header">Аффикс <small>affix.js</small></h1>

  <h2 id="affix-examples">Пример</h2>
  <p>Плагин affix включает и выключает <code>position: fixed;</code>, имитируя эффект, обнаруженный с помощью <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position#Sticky_positioning"><code>position: sticky;</code></a>. Поднавигация справа - это живая демонстрация плагина аффиксов.</p>

  <hr class="bs-docs-separator">

  <h2 id="affix-usage">Использование</h2>
  <p>Используйте аффикс-плагин Через данные-атрибуты или вручную с вашим собственным JavaScript. <strong class="text-danger">В обеих ситуациях вы должны предоставить CSS для позиционирования и ширины вашего прикрепленного контента.</strong></p>
  <p>Примечание. Не используйте подключаемый модуль аффиксов для элемента, содержащегося в относительно позиционированном элементе, таком как вытянутый или выталкиваемый столбец, из-за <a href="https://github.com/twbs/bootstrap/issues/12126">Ошибки рендеринга в Safari</a>.</p>

  <h3>Позиционирование через CSS</h3>
  <p>Плагин affix переключает между тремя классами, каждый из которых представляет определенное состояние: <code>.affix</code>, <code>.affix-top</code> и <code>.affix-bottom</code>. Вы должны предоставить стили, за исключением <code>position: fixed;</code> в <code>.affix</code>, для этих классов самостоятельно (независимо от этого плагина) для обработки фактических позиций.</p>
  <p>Вот как работает плагин affix:</p>
  <ol>
    <li>Для начала плагин добавляет <code>.affix-top</code>, чтобы указать, что элемент находится в самой верхней позиции. На этом этапе позиционирование CSS не требуется.</li>
    <li>Прокрутка мимо элемента, который вы хотите прикрепить, должна вызвать фактическое прикрепление. Здесь <code>.affix</code> заменяет <code>.affix-top</code> и устанавливает <code>position: fixed;</code> (предоставляется CSS Bootstrap).</li>
    <li>Если задано нижнее смещение, прокрутка мимо него должна заменить <code>.affix</code> на <code>.affix-bottom</code>. Поскольку смещения являются необязательными, для их настройки необходимо установить соответствующий CSS. В этом случае при необходимости добавьте <code>position: absolute;</code>. Плагин использует атрибут данных или параметр JavaScript, чтобы определить, где разместить элемент оттуда.</li>
  </ol>
  <p>Выполните указанные выше действия, чтобы настроить CSS для любого из вариантов использования, указанных ниже.</p>

  <h3>Через data-атрибуты</h3>
  <p>Чтобы легко добавить поведение аффикса к любому элементу, просто добавьте <code>data-spy="affix"</code> к элементу, за которым вы хотите следить. Используйте смещения, чтобы определить, когда следует переключать закрепление элемента.</p>

{% highlight html %}
<div data-spy="affix" data-offset-top="60" data-offset-bottom="200">
  ...
</div>
{% endhighlight %}

  <h3>Через JavaScript</h3>
  <p>Вызов плагина affix через JavaScript:</p>
{% highlight js %}
$('#myAffix').affix({
  offset: {
    top: 100,
    bottom: function () {
      return (this.bottom = $('.footer').outerHeight(true))
    }
  }
})
{% endhighlight %}


  <h3 id="affix-options">Параметры</h3>
  <p>Параметры можно передавать через data-атрибуты или JavaScript. Для атрибутов данных добавьте имя параметра к <code>data-</code>, как в <code>data-offset-top="200"</code>.</p>

  <div class="table-responsive">
    <table class="table table-bordered table-striped js-options-table">
      <thead>
       <tr>
         <th>Наименование</th>
         <th>Тип</th>
         <th>По умолчанию</th>
         <th>Описание</th>
       </tr>
      </thead>
      <tbody>
       <tr>
         <td>offset</td>
         <td>number | function | object</td>
         <td>10</td>
         <td>Пиксели для смещения от экрана при вычислении положения прокрутки. Если указано одно число, смещение будет применяться как в верхнем, так и в нижнем направлениях. Чтобы предоставить уникальное смещение по нижнему и верхнему краям, просто укажите объект <code>offset: { top: 10 }</code> или <code>offset: { top: 10, bottom: 5 }</code>. Используйте функцию, когда вам нужно динамически вычислить смещение.</td>
       </tr>
       <tr>
         <td>target</td>
         <td>selector | node | jQuery element</td>
         <td>the <code>window</code> object</td>
         <td>Задает целевой элемент аффикса.</td>
       </tr>

      </tbody>
    </table>
  </div><!-- /.table-responsive -->

  <h3 id="affix-methods">Методы</h3>

  <h4><code>.affix(options)</code></h4>
  <p>Активирует ваш контент как прикрепленный контент. Принимает необязательные параметры <code>object</code>.</p>
{% highlight js %}
$('#myAffix').affix({
  offset: 15
})
{% endhighlight %}

  <h4><code>.affix('checkPosition')</code></h4>
  <p>Пересчитывает состояние аффикса на основе размеров, положения и положения прокрутки соответствующих элементов. Классы <code>.affix</code>, <code>.affix-top</code> и <code>.affix-bottom</code> добавляются или удаляются из прикрепленного содержимого в соответствии с новым состоянием. . Этот метод необходимо вызывать всякий раз, когда изменяются размеры прикрепленного содержимого или целевого элемента, чтобы гарантировать правильное позиционирование прикрепленного содержимого.</p>
  {% highlight js %}$('#myAffix').affix('checkPosition'){% endhighlight %}

  <h3 id="affix-events">События</h3>
  <p>Плагин аффиксов Bootstrap предоставляет несколько событий для подключения к функциональности аффиксов.</p>
  <div class="table-responsive">
    <table class="table table-bordered table-striped bs-events-table">
      <thead>
        <tr>
          <th>Тип события</th>
          <th>Описание</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>affix.bs.affix</td>
          <td>Это событие срабатывает непосредственно перед прикреплением элемента.</td>
        </tr>
        <tr>
          <td>affixed.bs.affix</td>
          <td>Это событие запускается после того, как элемент был прикреплен.</td>
        </tr>
        <tr>
          <td>affix-top.bs.affix</td>
          <td>Это событие срабатывает непосредственно перед прикреплением элемента сверху.</td>
        </tr>
        <tr>
          <td>affixed-top.bs.affix</td>
          <td>Это событие запускается после того, как элемент был прикреплен сверху.</td>
        </tr>
       <tr>
        <td>affix-bottom.bs.affix</td>
          <td>Это событие срабатывает непосредственно перед прикреплением элемента снизу.</td>
        </tr>
        <tr>
          <td>affixed-bottom.bs.affix</td>
          <td>Это событие запускается после того, как элемент был прикреплен снизу.</td>
        </tr>
      </tbody>
    </table>
  </div><!-- /.table-responsive -->
</div>
