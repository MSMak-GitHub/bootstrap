<div class="bs-docs-section">
  <h1 id="js-overview" class="page-header">Обзор</h1>

  <h2 id="js-individual-compiled">Индивидуальный или скомпилированный</h2>
  <p>Плагины могут быть включены индивидуально (с использованием отдельных файлов Bootstrap <code>*.js</code>), или все сразу (с использованием <code>bootstrap.js</code> или минифицированный <code>bootstrap.min.js</code>).</p>

  <div class="bs-callout bs-callout-danger" id="callout-overview-not-both">
    <h4>Использование скомпилированного JavaScript</h4>
    <p>И <code>bootstrap.js</code>, и <code>bootstrap.min.js</code> содержат все плагины в одном файле. Включен только один.</p>
  </div>

  <div class="bs-callout bs-callout-danger" id="callout-overview-dependencies">
    <h4>Зависимости плагинов</h4>
    <p>Некоторые плагины и компоненты CSS зависят от других плагинов. Если вы включаете плагины по отдельности, обязательно
    проверьте эти зависимости в документации. Также обратите внимание, что все плагины зависят от jQuery (это означает, что
    jQuery должен быть включен <strong>до</strong> файлов плагинов). <a href="{{ site.repo }}/blob/v3-dev/bower.json">Проконсультируйтесь с нашим <code>bower.json</code></a>, чтобы узнать, какие версии jQuery поддерживаются.</p>
  </div>

  <h2 id="js-data-attrs">Атрибуты данных</h2>
  <p>Вы можете использовать все плагины Bootstrap исключительно через API разметки, не написав ни одной строчки JavaScript. Это первоклассный API Bootstrap, и вы должны учитывать его в первую очередь при использовании плагина.</p>

  <p>Тем не менее, в некоторых ситуациях может потребоваться отключить эту функцию. Таким образом, мы также предоставляем возможность отключить API атрибутов данных путем отмены привязки всех событий в документе, имеющем пространство имен с помощью <code>data-api</code>. Это выглядит так:</p>
{% highlight js %}
$(document).off('.data-api')
{% endhighlight %}

  <p>В качестве альтернативы, чтобы настроить таргетинг на конкретный плагин, просто включите имя плагина в качестве пространства имен вместе с пространством имен data-api следующим образом:</p>
{% highlight js %}
$(document).off('.alert.data-api')
{% endhighlight %}

  <div class="bs-callout bs-callout-danger" id="callout-overview-single-data">
    <h4>Только один плагин на элемент через атрибуты данных</h4>
    <p>Не используйте атрибуты данных из нескольких плагинов в одном элементе. Например, кнопка не может одновременно иметь всплывающую подсказку и переключать модальное окно. Для этого используйте оборачивающий элемент.</p>
  </div>

  <h2 id="js-programmatic-api">Программный API</h2>
  <p>Мы также считаем, что вы сможете использовать все плагины Bootstrap исключительно через JavaScript API. Все общедоступные API-интерфейсы являются одиночными, объединяемыми в цепочку методами и возвращают коллекцию, на которую воздействовали.</p>
{% highlight js %}
$('.btn.danger').button('toggle').addClass('fat')
{% endhighlight %}

  <p>Все методы должны принимать необязательный объект параметров, строку, нацеленную на конкретный метод, или ничего (что запускает плагин с поведением по умолчанию):</p>
{% highlight js %}
$('#myModal').modal()                      // инициализирует по умолчанию
$('#myModal').modal({ keyboard: false })   // инициализирует без клавиатуры
$('#myModal').modal('show')                // инициализирует и немедленно вызывает шоу
{% endhighlight %}

  <p>Каждый плагин также предоставляет свой необработанный конструктор в свойстве <code>Constructor</code>: <code>$.fn.popover.Constructor</code>. Если вы хотите получить конкретный экземпляр подключаемого модуля, извлеките его непосредственно из элемента: <code>$('[rel="popover"]').data('popover')</code>.</p>

  <h4>Настройки по умолчанию</h4>
  <p>Вы можете изменить настройки по умолчанию для плагина, изменив его объект <code>Constructor.DEFAULTS</code>:</p>
{% highlight js %}
$.fn.modal.Constructor.DEFAULTS.keyboard = false // изменяет значение по умолчанию для опции `keyboard` модального плагина на false
{% endhighlight %}

  <h2 id="js-noconflict">Нет конфликта</h2>
  <p>Иногда необходимо использовать плагины Bootstrap с другими фреймворками пользовательского интерфейса. В этих обстоятельствах иногда могут возникать конфликты пространств имен. Если это произойдет, вы можете вызвать <code>.noConflict</code> в плагине, значение которого вы хотите вернуть.</p>
{% highlight js %}
var bootstrapButton = $.fn.button.noConflict() // возвращает $.fn.button к ранее присвоенному значению
$.fn.bootstrapBtn = bootstrapButton            // дает $().bootstrapBtn функциональность Bootstrap
{% endhighlight %}

  <h2 id="js-events">События</h2>
  <p>Bootstrap предоставляет настраиваемые события для уникальных действий большинства плагинов. Как правило, они бывают в форме инфинитива и причастия прошедшего времени, где инфинитив (например, <code>show</code>) запускается в начале события, а его форма причастия прошедшего времени (например, <code>shown</code>) запускается по завершении действия.</p>
  <p>Начиная с 3.0.0, все события Bootstrap имеют пространство имен.</p>
  <p>Все инфинитивные события обеспечивают функциональность <code>preventDefault</code>. Это дает возможность остановить выполнение действия до его запуска.</p>
{% highlight js %}
$('#myModal').on('show.bs.modal', function (e) {
  if (!data) return e.preventDefault() // останавливает отображение модального окна
})
{% endhighlight %}

  <h2 id="js-sanitizer">Санитайзер</h2>

  <p>Всплывающие подсказки и всплывающие окна используют наше встроенное средство очистки для очистки параметров, принимающих HTML.</p>
  <p>Значение по умолчанию <code>whiteList</code> следующее:</p>

{% highlight js %}
var ARIA_ATTRIBUTE_PATTERN = /^aria-[\w-]*$/i
var DefaultWhitelist = {
  // Global attributes allowed on any supplied element below.
  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],
  a: ['target', 'href', 'title', 'rel'],
  area: [],
  b: [],
  br: [],
  col: [],
  code: [],
  div: [],
  em: [],
  hr: [],
  h1: [],
  h2: [],
  h3: [],
  h4: [],
  h5: [],
  h6: [],
  i: [],
  img: ['src', 'alt', 'title', 'width', 'height'],
  li: [],
  ol: [],
  p: [],
  pre: [],
  s: [],
  small: [],
  span: [],
  sub: [],
  sup: [],
  strong: [],
  u: [],
  ul: []
}
{% endhighlight %}

  <p>Если вы хотите добавить новые значения в этот <code>whiteList</code> по умолчанию, вы можете сделать следующее:</p>

{% highlight js %}
var myDefaultWhiteList = $.fn.tooltip.Constructor.DEFAULTS.whiteList

// To allow table elements
myDefaultWhiteList.table = []

// To allow td elements and data-option attributes on td elements
myDefaultWhiteList.td = ['data-option']

// You can push your custom regex to validate your attributes.
// Be careful about your regular expressions being too lax
var myCustomRegex = /^data-my-app-[\w-]+/
myDefaultWhiteList['*'].push(myCustomRegex)
{% endhighlight %}

  <p>Если вы хотите обойти наше средство очистки, потому что предпочитаете использовать специальную библиотеку, например, <a href="https://www.npmjs.com/package/dompurify">DOMPurify</a>, вам следует сделать следующее:</p>

{% highlight js %}
$('#yourTooltip').tooltip({
  sanitizeFn: function (content) {
    return DOMPurify.sanitize(content)
  }
})
{% endhighlight %}

  <div class="bs-callout bs-callout-danger" id="callout-sanitizer-no-createhtmldocument">
    <h4>Браузеры без <code>document.implementation.createHTMLDocument</code></h4>
    <p>В случае браузеров, которые не поддерживают <code>document.implementation.createHTMLDocument</code>, например, Internet Explorer 8, встроенная функция очистки возвращает HTML как есть.</p>
    <p>Если вы хотите выполнить дезинфекцию в этом случае, укажите <code>sanitizeFn</code> и используйте внешнюю библиотеку, например, <a href="https://www.npmjs.com/package/dompurify">DOMPurify</a>.</p>
  </div>

  <h2 id="js-version-nums">Номера версий</h2>
  <p>Доступ к версии каждого из подключаемых модулей jQuery Bootstrap можно получить через свойство <code>VERSION</code> конструктора подключаемого модуля. Например, для плагина всплывающей подсказки:</p>
{% highlight js %}
$.fn.tooltip.Constructor.VERSION // => "{{ site.current_version }}"
{% endhighlight %}

  <h2 id="js-disabled">Никаких специальных резервных вариантов при отключенном JavaScript</h2>
  <p>Плагины Bootstrap не особо изящно отключаются при отключении JavaScript. Если в этом случае вам важен опыт пользователя, используйте <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/noscript"><code>&lt;noscript&gt;</code></a>, чтобы объяснить пользователям ситуацию (и как повторно включить JavaScript) и / или добавить свои собственные резервные варианты.</p>

  <div class="bs-callout bs-callout-warning" id="callout-third-party-libs">
    <h4>Сторонние библиотеки</h4>
    <p><strong>Bootstrap официально не поддерживает сторонние библиотеки JavaScript</strong>, такие как Prototype или jQuery UI. Несмотря на <code>.noConflict</code> и события в пространстве имен, могут возникнуть проблемы совместимости, которые необходимо исправить самостоятельно.</p>
  </div>
</div>
